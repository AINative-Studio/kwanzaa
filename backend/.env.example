# =============================================================================
# Kwanzaa API Environment Configuration
# =============================================================================
# This file contains environment variables for secrets and deployment settings.
# For model, adapter, and RAG configurations, see backend/config/*.yaml files.
#
# NEVER commit this file with real secrets. Use a secrets manager in production.
# =============================================================================

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_V1_PREFIX=/api/v1
PROJECT_NAME=Kwanzaa API
VERSION=1.0.0
DEBUG=False

# -----------------------------------------------------------------------------
# CORS Settings
# -----------------------------------------------------------------------------
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# -----------------------------------------------------------------------------
# Database Settings
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://localhost/kwanzaa

# -----------------------------------------------------------------------------
# ZeroDB Settings (SECRETS - Required)
# -----------------------------------------------------------------------------
# Get these from: https://console.zerodb.ainative.io
ZERODB_PROJECT_ID=your-project-id-here
ZERODB_API_KEY=your-api-key-here
ZERODB_API_URL=https://api.zerodb.ainative.io

# -----------------------------------------------------------------------------
# Model Configuration
# -----------------------------------------------------------------------------
# Base model selection: ai2, llama, deepseek
# Refers to config file: backend/config/models/{BASE_MODEL}.yaml
BASE_MODEL=ai2

# Adapter type: qlora, lora, full_finetune
# Refers to config file: backend/config/adapters/{ADAPTER_TYPE}.yaml
ADAPTER_TYPE=qlora

# Model cache directory (relative to backend/)
MODEL_CACHE_DIR=.cache/models

# -----------------------------------------------------------------------------
# HuggingFace Configuration (Required for gated models and adapter publishing)
# -----------------------------------------------------------------------------
# Token Types:
#   - READ: For downloading public and gated models (LLaMA, Mistral, etc.)
#   - WRITE: For publishing trained adapters to HuggingFace Hub
#   - FINE-GRAINED: For CI/CD with specific repository permissions
#
# Setup Instructions:
#   1. Create HuggingFace account: https://huggingface.co/join
#   2. Enable 2FA: https://huggingface.co/settings/account
#   3. Generate token: https://huggingface.co/settings/tokens
#   4. For gated models (LLaMA), request access first, then use token
#
# Security:
#   - Use READ token for local development
#   - Use WRITE token only for publishing (rotate every 90 days)
#   - Never commit tokens to git
#   - Store production tokens in secrets manager
#
# Documentation: docs/training/huggingface-setup.md
#
# Token format: hf_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX (40 characters)
HF_TOKEN=your-huggingface-token-here
#
# Optional: Specify organization for publishing adapters
# HF_ORGANIZATION=kwanzaa-project

# -----------------------------------------------------------------------------
# Embedding Settings
# -----------------------------------------------------------------------------
EMBEDDING_MODEL=BAAI/bge-small-en-v1.5
EMBEDDING_DIMENSIONS=1536
EMBEDDING_BATCH_SIZE=32

# -----------------------------------------------------------------------------
# Search Settings
# -----------------------------------------------------------------------------
DEFAULT_SEARCH_LIMIT=10
MAX_SEARCH_LIMIT=100
DEFAULT_SIMILARITY_THRESHOLD=0.7
DEFAULT_NAMESPACE=kwanzaa_primary_sources

# -----------------------------------------------------------------------------
# Security Settings (SECRETS - Change in Production)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
SECRET_KEY=change-this-secret-key-in-production-use-openssl-rand-hex-32
ACCESS_TOKEN_EXPIRE_MINUTES=60
ALGORITHM=HS256

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Performance & Caching
# -----------------------------------------------------------------------------
QUERY_CACHE_TTL_SECONDS=300
EMBEDDING_CACHE_TTL_SECONDS=3600

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_RERANKING=True
ENABLE_HYBRID_SEARCH=False
ENABLE_QUERY_EXPANSION=False

# -----------------------------------------------------------------------------
# Optional: External API Keys
# -----------------------------------------------------------------------------
# OPENAI_API_KEY=your-openai-key-here
# ANTHROPIC_API_KEY=your-anthropic-key-here
